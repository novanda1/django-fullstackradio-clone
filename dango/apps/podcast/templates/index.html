{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="mt-6 grid gap-12 border-t-2 border-gray-100 py-8">
    {% for episode in episode_list %}
    <div class="relative">
        <p class="text-sm leading-5 text-gray-500"><time datetime="2021-1-28">{{episode.created | date:"M d, Y"}}</time>
        </p>
        <div>
            <h2 class="mt-2 text-xl leading-7 font-semibold text-gray-900">
                {{episode.pk}}:
                {% if episode.host %} {{episode.host}} - {% endif %}
                {{episode.title}}
            </h2>
            <div class="mt-3 text-base leading-6 text-gray-500">{{episode.excerpt | safe}}</div>
        </div>
        <div class="mt-3">
            <a class="text-base leading-6 font-semibold text-teal-600 hover:text-teal-700 focus:outline-none focus:underline"
                href="{% url "podcast:detail" episode.pk %}"><span class="sr-only">{{episode.title}}</span>{% trans  "Show notes" %}<span class="absolute inset-0"></span>
            </a>
        </div>
    </div>
    {%endfor %}

    {% if is_paginated %}
    <div class="text-center mt-7">
        <span class="page-links">
            <span class="page-current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>
            <div>
                {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}" class="text-teal-700">previous</a>
                {% endif %}
                {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="text-teal-700">next</a>
                {% endif %}
            </div>
        </span>
    </div>
    {% endif %}
</div>
{% endblock content %}